"use strict";!function(e,i){window.shipDetails={initShipDetails:function(){function i(){"#deck-plans"!==window.location.hash||window.shipDetails.decksIntialized?(e(".deck-number, .deck-title, .ship-image").hide(),e(".deck-number.active, .deck-title.active, .ship-image.active").show()):(window.shipDetails.initDecks(),window.shipDetails.decksIntialized=!0)}e(".nav-toggle").on("click",function(i){i.preventDefault(),e(this).closest(".deck_links").toggleClass("open")}),e(".deck_links li a").on("click",function(i){i.preventDefault(),e(".deck_links").removeClass("open");var n=e(this).attr("href"),t=e(n);window.scrollTo(0,t.offset().top)}),window.Details.tabNavigation(i),window.Details.historyChange()},decksIntialized:!1,initDecks:function(){function n(i){e("svg g[id^=D"+i+"-], svg path[id^=D"+i+"-], svg polygon[id^=D"+i+"-], svg rect[id ^= D"+i+"-]").addClass("hide-highlight"),a.push({props:{triggerElement:".deck_"+i,triggerHook:"onLeave",offset:-100,duration:e(".deck_"+i).height()},onComplete:[".D"+i+"-deck-title, .D"+i+"-title, .D"+i+"-ship-image","active"]});for(var n=0,t=e("svg rect[id^=D"+i+"_T]").length;n<t;n++){var o=e("svg rect[id^=D"+i+"_T]")[n].id,s=o.substr(o.lastIndexOf("_")+1);a.push({props:{triggerElement:"#"+o,triggerHook:"onCenter",duration:e("#"+o)[0].getBoundingClientRect().height},setClassToggle:["#"+s+", ."+s,"active"]})}}function t(){var n=[];a.map(function(i,t){var o="undefined"!=typeof i.setPin?[i.setPin]:i.setClassToggle;if("undefined"!=typeof i.setPin)n[t]=new ScrollMagic.Scene(i.props).setPin(o[0]).addTo(s);else if("undefined"!=typeof i.onComplete)n[t]=new ScrollMagic.Scene(i.props).addTo(s),n[t].on("enter",function(n){"none"===e(i.onComplete[0]).css("display")&&(e(".deck-number, .deck-title, .ship-image").hide(),e(i.onComplete[0]).fadeIn())});else if(n[t]=new ScrollMagic.Scene(i.props).setClassToggle(o[0],o[1]).addTo(s),n[t].on("enter",function(i){window.mainVariables.bLazy.revalidate(),e(".textlink").is(":focus")&&e(".deck_feature.active .textlink").focus()}),n[t].scrollOffset()<1){var a=e(i.props.triggerElement).offset().top+c;n[t].offset(a),n[t].on("enter",function(i){e(o[0]).addClass("active")}),n[t].on("leave",function(i){e(o[0]).removeClass("active")})}}),console.log(s);var t=i.debounce(function(){window.innerWidth<768?"50px"!==e(".pinned_items").css("top")&&n[n.length-1].offset(-50):"165px"!==e(".pinned_items").css("top")&&n[n.length-1].offset(-165)},200);window.mainVariables.$window.on("resize",t),o()}function o(){e(".deck_links").on("keydown",function(i){switch(i.keyCode){case 39:case 37:e(".deck_feature.active .textlink").focus();break;case 40:break;case 38:}}),e(".deck_feature .textlink").on("keydown",function(i){switch(i.keyCode){case 39:case 37:e(".deck_links .nav-toggle").focus();break;case 40:break;case 38:}})}var s=new ScrollMagic.Controller({}),a=[],c=-165,l=-165;window.mainVariables.NwindowWidth()<768&&(c=-240,l=-50,console.log(l));var d={evalScripts:"never"},r=e(".svg-inject");new SVGInjector(d).inject(r,function(i){a.push({props:{triggerElement:".pinned_items",triggerHook:"onLeave",offset:l,duration:e("#scrollShip").height()-750},setPin:".pinned_items"}),t()},function(i){if(i){var t=e(i).attr("data-name").replace("Deck ","");n(t)}})}},e(".jsShipDetails").length>0&&shipDetails.initShipDetails()}(jQuery,window.talonUtil);