"use strict";!function(e,a){window.compareTablesH={$columns:3,emitEventToParent:function(e){parent.$("body").trigger(e)},goBackToParent:function(e){e.preventDefault(),window.compareTablesH.emitEventToParent("closeModal")},compareTables:function(){return{main:e(".compare_tables"),init:function(){var a=this;a.cloneTable(),a.main.slick({arrows:!1,slidesToShow:3,draggable:!1,infinite:!1,responsive:[{breakpoint:767,settings:{slidesToShow:1,draggable:!0,dots:!0}}]}),a.disableHiddenLinks(),a.main.on("click",".destroy",a.removeColumn),e(".table_3 .empty-table").click()},cloneTable:function(){var a=e(".compare_tables table.compare");a.clone().addClass("table_2").insertAfter("table.compare"),a.clone().removeClass("table_2").addClass("table_3").insertAfter(".table_2"),a.addClass("table_1")},disableHiddenLinks:function(){e(".table_1 tr>*:nth-child(n+2) a").attr("tabindex","-1"),e(".table_2 tr>*:nth-child(odd) a").attr("tabindex","-1"),e(".table_3 tr>*:nth-child(-n+2) a").attr("tabindex","-1")},removeColumn:function(a){if(1===e(".slick-slide",".compare_tables").length)window.compareTablesH.emitEventToParent("closeModal"),e(".flyout-modal-close").click();else{var o=Number(e(this).parents(".slick-slide").index());e(".compare_tables .slick-cloned").length>0&&o--,o>2&&(o-=window.compareTablesH.$columns),o<0&&(o+=window.compareTablesH.$columns),window.compareTablesH.$columns--,e(this).parents(".compare_tables").slick("slickRemove",o)}}}},initCompareTables:function(){var e=this.compareTables();e.init(),window.wishList.addClickHandlers()}},(e(".jsCompareAccomodations").length>0||e(".jsCompareVoyages").length>0)&&compareTablesH.initCompareTables(),e(window).on("reinitialize",function(){(e(".jsCompareAccomodations").length>0||e(".jsCompareVoyages").length>0||e(".flyout-modal .compare_voyages").length>0||e(".flyout-modal .compare_accommodations").length>0)&&compareTablesH.initCompareTables()}),e("body").on("click",".vp_view_more",function(a){a.preventDefault(),a.stopImmediatePropagation(),e(a.currentTarget).prev().addClass("show_all_ports")})}(jQuery,window.talonUtil);